<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex" />
    <title>Content Manager</title>
    <style>
      .logo {
        display: block;
        margin-left: auto;
        margin-right: auto;
        max-width: 400px;
      }

      @media (max-width: 768px) {
        .logo {
          max-width: 50%;
        }
      }
    </style>

    <script>
      // ✅ Force manual CMS init
      window.CMS_MANUAL_INIT = true;

      // ✅ Correct malformed invite_token hash
      function fixInviteTokenHash() {
        const currentHash = window.location.hash;
        if (currentHash.startsWith("#/invite_token=")) {
          const correctedHash = "#" + currentHash.slice(2);
          history.replaceState(null, null, correctedHash);
        }
      }

      // Run on page load
      fixInviteTokenHash();

      // Run again on hash changes (in case it's rewritten later)
      window.addEventListener("hashchange", fixInviteTokenHash);
    </script>
  </head>
  <body>
    <!-- Optional Logo -->
    <img
      src="/prosper-website-logo.png"
      alt="Prosper XO"
      class="logo"
    />

    <!-- ✅ Load Decap CMS -->
    <script src="https://unpkg.com/decap-cms@3.1.2/dist/decap-cms.js"></script>

    <script>
      function waitForCMS() {
        if (typeof CMS !== "undefined") {
          CMS.init();
        } else {
          setTimeout(waitForCMS, 50);
        }
      }

      document.addEventListener("DOMContentLoaded", waitForCMS);
    </script>
  </body>
</html>


